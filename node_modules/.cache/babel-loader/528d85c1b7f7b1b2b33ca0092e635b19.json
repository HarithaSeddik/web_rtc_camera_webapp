{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nexport function useUserMedia(requestedMedia) {\n  _s();\n\n  const [mediaStream, setMediaStream] = useState(null);\n  navigator.getUserMedia = navigator.mediaDevices.getUserMedia || navigator.mediaDevices.mozGetUserMedia || navigator.mediaDevices.msGetUserMedia || navigator.mediaDevices.webkitGetUserMedia;\n  useEffect(() => {\n    async function enableStream() {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia(requestedMedia);\n        setMediaStream(stream);\n      } catch (err) {\n        console.log(`Error while fetching media stream.. ${err}`);\n      }\n    }\n\n    if (!mediaStream) {\n      enableStream();\n    } else {\n      return function cleanup() {\n        mediaStream.getTracks().forEach(track => {\n          track.stop();\n        });\n      };\n    }\n  }, [mediaStream, requestedMedia]);\n  return mediaStream;\n}\n\n_s(useUserMedia, \"oKgeb410CvQ1KtUfT16n/lY1/DA=\");","map":{"version":3,"names":["useState","useEffect","useUserMedia","requestedMedia","mediaStream","setMediaStream","navigator","getUserMedia","mediaDevices","mozGetUserMedia","msGetUserMedia","webkitGetUserMedia","enableStream","stream","err","console","log","cleanup","getTracks","forEach","track","stop"],"sources":["/Users/kobil/Workspace/React_Projects/camera-webapp-poc/src/components/UserUserMedia.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\n\nexport function useUserMedia(requestedMedia) {\n  const [mediaStream, setMediaStream] = useState(null);\n\n  navigator.getUserMedia =\n    navigator.mediaDevices.getUserMedia ||\n    navigator.mediaDevices.mozGetUserMedia ||\n    navigator.mediaDevices.msGetUserMedia ||\n    navigator.mediaDevices.webkitGetUserMedia;\n\n  useEffect(() => {\n    async function enableStream() {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia(\n          requestedMedia\n        );\n        setMediaStream(stream);\n      } catch (err) {\n                console.log(`Error while fetching media stream.. ${err}`);\n      }\n    }\n\n    if (!mediaStream) {\n      enableStream();\n    } else {\n      return function cleanup() {\n        mediaStream.getTracks().forEach((track) => {\n          track.stop();\n        });\n      };\n    }\n  }, [mediaStream, requestedMedia]);\n\n  return mediaStream;\n}\n"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,OAAO,SAASC,YAAT,CAAsBC,cAAtB,EAAsC;EAAA;;EAC3C,MAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCL,QAAQ,CAAC,IAAD,CAA9C;EAEAM,SAAS,CAACC,YAAV,GACED,SAAS,CAACE,YAAV,CAAuBD,YAAvB,IACAD,SAAS,CAACE,YAAV,CAAuBC,eADvB,IAEAH,SAAS,CAACE,YAAV,CAAuBE,cAFvB,IAGAJ,SAAS,CAACE,YAAV,CAAuBG,kBAJzB;EAMAV,SAAS,CAAC,MAAM;IACd,eAAeW,YAAf,GAA8B;MAC5B,IAAI;QACF,MAAMC,MAAM,GAAG,MAAMP,SAAS,CAACE,YAAV,CAAuBD,YAAvB,CACnBJ,cADmB,CAArB;QAGAE,cAAc,CAACQ,MAAD,CAAd;MACD,CALD,CAKE,OAAOC,GAAP,EAAY;QACJC,OAAO,CAACC,GAAR,CAAa,uCAAsCF,GAAI,EAAvD;MACT;IACF;;IAED,IAAI,CAACV,WAAL,EAAkB;MAChBQ,YAAY;IACb,CAFD,MAEO;MACL,OAAO,SAASK,OAAT,GAAmB;QACxBb,WAAW,CAACc,SAAZ,GAAwBC,OAAxB,CAAiCC,KAAD,IAAW;UACzCA,KAAK,CAACC,IAAN;QACD,CAFD;MAGD,CAJD;IAKD;EACF,CArBQ,EAqBN,CAACjB,WAAD,EAAcD,cAAd,CArBM,CAAT;EAuBA,OAAOC,WAAP;AACD;;GAjCeF,Y"},"metadata":{},"sourceType":"module"}